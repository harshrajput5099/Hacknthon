{% extends 'base.html' %}
{% block content %}

{% load static %}

<!-- Hero Carousel with Perfect Alignment -->
<section class="relative w-full h-[90vh] overflow-hidden">
  <!-- Carousel Background -->
  <div class="absolute inset-0 flex items-center justify-center">
    <!-- Carousel Items -->
    <div class="relative w-full h-full">
      <!-- Item 1 (Centered perfectly) -->
      <div class="absolute inset-0 flex items-center justify-center transition-opacity duration-1000 ease-in-out opacity-0" data-carousel-item>
        <img src="{% static '/farmer/farmer-1.jpg' %}" 
             class="absolute w-full h-full object-cover object-center" 
             alt="Organic farmer harvesting vegetables">
        <div class="absolute inset-0 bg-gradient-to-t from-[#143601]/90 via-[#143601]/50 to-transparent"></div>
      </div>
      
      <!-- Item 2 (Centered perfectly) -->
      <div class="absolute inset-0 flex items-center justify-center transition-opacity duration-1000 ease-in-out opacity-0" data-carousel-item>
        <img src="{% static '/farmer/farmer-2.jpg' %}" 
             class="absolute w-full h-full object-cover object-center" 
             alt="Farmers market with fresh produce">
        <div class="absolute inset-0 bg-gradient-to-t from-[#245501]/90 via-[#245501]/50 to-transparent"></div>
      </div>
      
      <!-- Item 3 (Centered perfectly) -->
      <div class="absolute inset-0 flex items-center justify-center transition-opacity duration-1000 ease-in-out opacity-0" data-carousel-item>
        <img src="{% static '/farmer/farmer-3.jpg' %}" 
             class="absolute w-full h-full object-cover object-center" 
             alt="Organic vegetables basket">
        <div class="absolute inset-0 bg-gradient-to-t from-[#538d22]/90 via-[#538d22]/50 to-transparent"></div>
      </div>
    </div>
  </div>
  
  <!-- Carousel Content (Perfectly centered) -->
  <div class="absolute inset-0 flex items-center justify-center z-10">
    <div class="text-center px-4 w-full max-w-4xl">
      <div class="carousel-content opacity-0 transition-opacity duration-500">
        <h1 class="text-4xl md:text-6xl font-bold text-white mb-6 leading-tight">
          <span class="inline-block animate-fadeInUp">Farm Fresh</span>
          <span class="inline-block animate-fadeInUp delay-100">Organic Produce</span>
        </h1>
        <p class="text-xl md:text-2xl text-white mb-8 max-w-2xl mx-auto animate-fadeInUp delay-200">
          Direct from farmers who care about the land and your health
        </p>
        <div class="animate-fadeInUp delay-300">
          <a href="#join" class="inline-block bg-white text-[#245501] font-bold px-8 py-3 rounded-full hover:bg-[#f0f7e6] transition-all duration-300 shadow-lg">
            Shop Organic Now
          </a>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Navigation Arrows (Perfectly aligned) -->
  <button type="button" 
          class="absolute left-4 top-1/2 -translate-y-1/2 z-20 p-3 rounded-full bg-white/30 hover:bg-white/50 transition-all duration-300"
          data-carousel-prev>
    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
    </svg>
  </button>
  <button type="button" 
          class="absolute right-4 top-1/2 -translate-y-1/2 z-20 p-3 rounded-full bg-white/30 hover:bg-white/50 transition-all duration-300"
          data-carousel-next>
    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
    </svg>
  </button>
  
  <!-- Indicators (Perfectly centered) -->
  <div class="absolute bottom-8 left-1/2 -translate-x-1/2 z-20 flex space-x-2">
    <button type="button" class="w-3 h-3 rounded-full bg-white/50 hover:bg-white transition-all duration-300" 
            data-carousel-indicator></button>
    <button type="button" class="w-3 h-3 rounded-full bg-white/50 hover:bg-white transition-all duration-300" 
            data-carousel-indicator></button>
    <button type="button" class="w-3 h-3 rounded-full bg-white/50 hover:bg-white transition-all duration-300" 
            data-carousel-indicator></button>
  </div>
  
  <!-- Animated Wave Divider -->
  <div class="absolute bottom-0 left-0 right-0 h-24 overflow-hidden z-10">
    <svg viewBox="0 0 1200 120" preserveAspectRatio="none" class="absolute top-0 left-0 w-full h-full">
      <path d="M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z" 
            opacity=".25" fill="#538d22"></path>
      <path d="M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z" 
            opacity=".5" fill="#538d22"></path>
      <path d="M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z" 
            fill="#73a942"></path>
    </svg>
  </div>
</section>

<!-- Value Proposition Cards -->
<section class="py-16 bg-white">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto">
      <!-- Card 1 -->
      <div class="bg-[#f8faf5] rounded-xl p-8 shadow-md hover:shadow-xl transition-all duration-500 transform hover:-translate-y-2 animate-fadeInUp">
        <div class="w-14 h-14 bg-[#245501] rounded-full flex items-center justify-center mb-6 mx-auto">
          <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"/>
          </svg>
        </div>
        <h3 class="text-xl font-bold text-center text-[#245501] mb-3">Farm-to-Table</h3>
        <p class="text-gray-700 text-center">
          Direct connection between organic farmers and consumers with no middlemen
        </p>
      </div>
      
      <!-- Card 2 -->
      <div class="bg-[#f8faf5] rounded-xl p-8 shadow-md hover:shadow-xl transition-all duration-500 transform hover:-translate-y-2 animate-fadeInUp delay-100">
        <div class="w-14 h-14 bg-[#538d22] rounded-full flex items-center justify-center mb-6 mx-auto">
          <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
          </svg>
        </div>
        <h3 class="text-xl font-bold text-center text-[#245501] mb-3">Verified Quality</h3>
        <p class="text-gray-700 text-center">
          QR code traceability for complete transparency about farming practices
        </p>
      </div>
      
      <!-- Card 3 -->
      <div class="bg-[#f8faf5] rounded-xl p-8 shadow-md hover:shadow-xl transition-all duration-500 transform hover:-translate-y-2 animate-fadeInUp delay-200">
        <div class="w-14 h-14 bg-[#73a942] rounded-full flex items-center justify-center mb-6 mx-auto">
          <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"/>
          </svg>
        </div>
        <h3 class="text-xl font-bold text-center text-[#245501] mb-3">Fair Pricing</h3>
        <p class="text-gray-700 text-center">
          Farmers earn more while you pay less than traditional retail
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Image + Text Section -->
<section class="py-16 bg-[#f8faf5]">
  <div class="container mx-auto px-4">
    <div class="flex flex-col lg:flex-row items-center gap-12 max-w-6xl mx-auto">
      <!-- Image (Perfectly aligned) -->
      <div class="lg:w-1/2 animate-fadeIn">
        <div class="relative rounded-xl overflow-hidden shadow-2xl">
          <img src="{% static '/farmer/fruit-1.jpg' %}" 
               class="w-full h-auto object-cover transition-transform duration-700 hover:scale-105" 
               alt="Fresh organic fruits">
          <div class="absolute inset-0 bg-gradient-to-t from-[#245501]/70 to-transparent"></div>
        </div>
      </div>
      
      <!-- Text Content -->
      <div class="lg:w-1/2">
        <h2 class="text-3xl font-bold text-[#143601] mb-6">Why Organic Matters</h2>
        <p class="text-gray-700 mb-6">
          At JaivikSetu, we believe in creating a sustainable ecosystem where farmers practicing chemical-free agriculture can connect directly with health-conscious consumers. Our platform ensures complete transparency from farm to fork.
        </p>
        
        <div class="space-y-4">
          <div class="flex items-start">
            <div class="flex-shrink-0 mt-1">
              <svg class="w-6 h-6 text-[#538d22]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="ml-3">
              <p class="text-gray-700 font-medium">No synthetic pesticides or fertilizers</p>
            </div>
          </div>
          
          <div class="flex items-start">
            <div class="flex-shrink-0 mt-1">
              <svg class="w-6 h-6 text-[#538d22]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="ml-3">
              <p class="text-gray-700 font-medium">Higher nutritional value in produce</p>
            </div>
          </div>
          
          <div class="flex items-start">
            <div class="flex-shrink-0 mt-1">
              <svg class="w-6 h-6 text-[#538d22]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="ml-3">
              <p class="text-gray-700 font-medium">Better for soil health and biodiversity</p>
            </div>
          </div>
        </div>
        
        <a href="#join" class="mt-8 inline-block bg-[#538d22] text-white font-bold px-6 py-3 rounded-lg hover:bg-[#73a942] transition-all duration-300 shadow-md">
          Learn More About Our Standards
        </a>
      </div>
    </div>
  </div>
</section>

<!-- Stats Section -->
<section class="py-16 bg-[#245501] text-white">
  <div class="container mx-auto px-4">
    <div class="text-center mb-16">
      <h2 class="text-3xl font-bold mb-4">Our Impact in Numbers</h2>
      <div class="w-20 h-1 bg-[#aad576] mx-auto"></div>
    </div>
    
    <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center max-w-6xl mx-auto">
      <!-- Stat 1 -->
      <div class="animate-fadeInUp">
        <div class="text-4xl md:text-5xl font-bold mb-2" data-count="250">0</div>
        <div class="text-[#aad576] font-medium">Organic Farmers</div>
      </div>
      
      <!-- Stat 2 -->
      <div class="animate-fadeInUp delay-100">
        <div class="text-4xl md:text-5xl font-bold mb-2" data-count="5000">0</div>
        <div class="text-[#aad576] font-medium">Happy Families</div>
      </div>
      
      <!-- Stat 3 -->
      <div class="animate-fadeInUp delay-200">
        <div class="text-4xl md:text-5xl font-bold mb-2" data-count="100">0</div>
        <div class="text-[#aad576] font-medium">Products Available</div>
      </div>
      
      <!-- Stat 4 -->
      <div class="animate-fadeInUp delay-300">
        <div class="text-4xl md:text-5xl font-bold mb-2" data-count="98">0</div>
        <div class="text-[#aad576] font-medium">% Satisfaction</div>
      </div>
    </div>
  </div>
</section>

<!-- Testimonials Carousel (Perfectly centered) -->
<section class="py-16 bg-white">
  <div class="container mx-auto px-4">
    <div class="text-center mb-16">
      <h2 class="text-3xl font-bold text-[#143601] mb-4">What Our Community Says</h2>
      <div class="w-20 h-1 bg-[#aad576] mx-auto"></div>
    </div>
    
    <div class="max-w-4xl mx-auto relative">
      <!-- Testimonial Items -->
      <div class="relative h-64 overflow-hidden">
        <!-- Testimonial 1 -->
        <div class="absolute inset-0 flex items-center justify-center transition-opacity duration-500 opacity-0" data-testimonial-item>
          <div class="text-center px-8">
            <div class="w-20 h-20 mx-auto mb-6 rounded-full overflow-hidden border-4 border-[#538d22]">
              <img src="{% static '/farmer/testimonial-1.jpg' %}" class="w-full h-full object-cover" alt="Happy customer">
            </div>
            <p class="text-lg text-gray-700 italic mb-4">
              "JaivikSetu has transformed how I shop for groceries. Knowing exactly which farm my food comes from gives me peace of mind."
            </p>
            <div class="text-[#538d22] font-bold">- Priya Sharma</div>
          </div>
        </div>
        
        <!-- Testimonial 2 -->
        <div class="absolute inset-0 flex items-center justify-center transition-opacity duration-500 opacity-0" data-testimonial-item>
          <div class="text-center px-8">
            <div class="w-20 h-20 mx-auto mb-6 rounded-full overflow-hidden border-4 border-[#538d22]">
              <img src="{% static '/farmer/testimonial-2.jpg' %}" class="w-full h-full object-cover" alt="Happy farmer">
            </div>
            <p class="text-lg text-gray-700 italic mb-4">
              "As a small organic farmer, JaivikSetu has given me direct access to customers who appreciate my produce at fair prices."
            </p>
            <div class="text-[#538d22] font-bold">- Rajesh Patel</div>
          </div>
        </div>
      </div>
      
      <!-- Navigation Arrows (Perfectly centered) -->
      <button type="button" 
              class="absolute left-0 top-1/2 -translate-y-1/2 z-20 p-2 rounded-full bg-[#538d22] hover:bg-[#73a942] transition-all duration-300"
              data-testimonial-prev>
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
        </svg>
      </button>
      <button type="button" 
              class="absolute right-0 top-1/2 -translate-y-1/2 z-20 p-2 rounded-full bg-[#538d22] hover:bg-[#73a942] transition-all duration-300"
              data-testimonial-next>
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
        </svg>
      </button>
    </div>
  </div>
</section>

<!-- Final CTA -->
<section id="join" class="py-16 bg-[#f8faf5]">
  <div class="container mx-auto px-4">
    <div class="max-w-4xl mx-auto bg-white rounded-xl shadow-xl overflow-hidden">
      <div class="md:flex">
        <div class="md:w-1/2 bg-[#245501] p-8 md:p-12 flex items-center">
          <div class="text-white">
            <h3 class="text-2xl font-bold mb-4">Ready to join the organic movement?</h3>
            <p>Become part of our growing community of farmers and conscious consumers.</p>
          </div>
        </div>
        <div class="md:w-1/2 p-8 md:p-12">
          <h2 class="text-2xl font-bold text-[#245501] mb-4">Get Started Today</h2>
          <p class="text-gray-700 mb-6">
            Create your account and start exploring fresh, organic produce directly from farmers.
          </p>
          <div class="flex flex-col space-y-4">
            <a href="{% url 'login' %}" 
               class="px-6 py-3 bg-[#538d22] hover:bg-[#73a942] text-white font-bold rounded-lg shadow-md transition-all duration-300 text-center">
              Sign Up Now
            </a>
            <a href="#" 
               class="px-6 py-3 border-2 border-[#538d22] text-[#538d22] hover:bg-[#f0f7e6] font-bold rounded-lg transition-all duration-300 text-center">
              Learn How It Works
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Custom Animations -->
<style>
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  @keyframes fadeInUp {
    from { 
      opacity: 0;
      transform: translateY(20px);
    }
    to { 
      opacity: 1;
      transform: translateY(0);
    }
  }
  .animate-fadeIn {
    animation: fadeIn 1s ease-out forwards;
  }
  .animate-fadeInUp {
    animation: fadeInUp 0.8s ease-out forwards;
  }
  .delay-100 { animation-delay: 100ms; }
  .delay-200 { animation-delay: 200ms; }
  .delay-300 { animation-delay: 300ms; }
</style>

<!-- JavaScript for Interactive Elements -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Initialize main carousel
    const carouselItems = document.querySelectorAll('[data-carousel-item]');
    const indicators = document.querySelectorAll('[data-carousel-indicator]');
    let currentIndex = 0;
    
    // Show first item by default
    if (carouselItems.length > 0) {
      carouselItems[0].classList.remove('opacity-0');
      carouselItems[0].classList.add('opacity-100');
      indicators[0].classList.add('bg-white');
      document.querySelector('.carousel-content').classList.remove('opacity-0');
    }
    
    // Navigation functions
    function showItem(index) {
      carouselItems.forEach(item => {
        item.classList.remove('opacity-100');
        item.classList.add('opacity-0');
      });
      indicators.forEach(ind => ind.classList.remove('bg-white'));
      
      carouselItems[index].classList.remove('opacity-0');
      carouselItems[index].classList.add('opacity-100');
      indicators[index].classList.add('bg-white');
      currentIndex = index;
      
      // Reset content animation
      const content = document.querySelector('.carousel-content');
      content.classList.remove('opacity-0');
    }
    
    function nextItem() {
      let newIndex = (currentIndex + 1) % carouselItems.length;
      showItem(newIndex);
    }
    
    function prevItem() {
      let newIndex = (currentIndex - 1 + carouselItems.length) % carouselItems.length;
      showItem(newIndex);
    }
    
    // Set up event listeners
    document.querySelector('[data-carousel-prev]').addEventListener('click', prevItem);
    document.querySelector('[data-carousel-next]').addEventListener('click', nextItem);
    
    indicators.forEach((indicator, index) => {
      indicator.addEventListener('click', () => showItem(index));
    });
    
    // Auto-rotate carousel
    setInterval(nextItem, 5000);
    
    // Initialize testimonial carousel
    const testimonialItems = document.querySelectorAll('[data-testimonial-item]');
    let currentTestimonial = 0;
    
    function showTestimonial(index) {
      testimonialItems.forEach(item => {
        item.classList.remove('opacity-100');
        item.classList.add('opacity-0');
      });
      testimonialItems[index].classList.remove('opacity-0');
      testimonialItems[index].classList.add('opacity-100');
      currentTestimonial = index;
    }
    
    function nextTestimonial() {
      let newIndex = (currentTestimonial + 1) % testimonialItems.length;
      showTestimonial(newIndex);
    }
    
    function prevTestimonial() {
      let newIndex = (currentTestimonial - 1 + testimonialItems.length) % testimonialItems.length;
      showTestimonial(newIndex);
    }
    
    document.querySelector('[data-testimonial-prev]').addEventListener('click', prevTestimonial);
    document.querySelector('[data-testimonial-next]').addEventListener('click', nextTestimonial);
    
    // Show first testimonial
    if (testimonialItems.length > 0) {
      showTestimonial(0);
    }
    
    // Animated counter for stats
    const counters = document.querySelectorAll('[data-count]');
    const speed = 200;
    
    function animateCounters() {
      counters.forEach(counter => {
        const target = +counter.getAttribute('data-count');
        const count = +counter.innerText;
        const increment = target / speed;
        
        if (count < target) {
          counter.innerText = Math.ceil(count + increment);
          setTimeout(animateCounters, 1);
        } else {
          counter.innerText = target;
        }
      });
    }
    
    // Start counters when stats section is in view
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          animateCounters();
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.5 });
    
    const statsSection = document.querySelector('section.bg-\\[\\#245501\\]');
    if (statsSection) {
      observer.observe(statsSection);
    }
  });
</script>

{% endblock %}